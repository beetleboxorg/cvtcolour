#!/bin/bash
cd /tools/Xilinx/Vitis/2020.1/workspace/cvtcolour/Emulation-HW/package/sim/behav_waveform/xsim
$QEMU_GDB_COMMAND /tools/Xilinx/Vitis/2020.1/data/emulation/qemu/unified_qemu_v4_2/sysroots/x86_64-petalinux-linux/usr/bin/qemu-system-aarch64  -M "arm-generic-fdt" -serial "mon:stdio" -global "xlnx,zynqmp-boot.cpu-num=0" -global "xlnx,zynqmp-boot.use-pmufw=true" -net "nic" -net "nic" -net "nic" -m "4G" -device "loader,file=/tools/Xilinx/Vitis/2020.1/platforms/xilinx_zcu104_base_202010_1/sw/xilinx_zcu104_base_202010_1/qemu/bl31.elf,cpu-num=0" -device "loader,file=/tools/Xilinx/Vitis/2020.1/platforms/xilinx_zcu104_base_202010_1/sw/xilinx_zcu104_base_202010_1/qemu/u-boot.elf" -boot "mode=5"   -hw-dtb /tools/Xilinx/Vitis/2020.1/data/emulation/dtbs/zynqmp/zynqmp-arm-cosim.dtb  -drive "file=/tools/Xilinx/Vitis/2020.1/workspace/cvtcolour/Emulation-HW/package/sd_card.img,if=sd,format=raw,index=1" -net "nic,netdev=net0" -netdev "user,id=net0,hostfwd=tcp::2222-:22" -display "none" -machine-path "." -sync-quantum "4000000" -chardev "socket,path=/tmp/24414/qemu-rport-_pmu@0,server,id=pmu-apu-rp" -chardev "socket,id=pl-rp,host=127.0.0.1,port=9875,server"
